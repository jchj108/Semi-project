<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>여러개 마커 표시하기</title>
    <script src="../../tools/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <div id="map" style="width: 100%; height: 700px"></div>

    <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=51a2be588394023dffe06fdafc5726ca"></script>
    <script>
      var mapContainer = document.getElementById('map'), // 지도를 표시할 div
        mapOption = {
          center: new kakao.maps.LatLng(37.6144169, 127.0842018), // 지도의 중심좌표
          level: 14, // 지도의 확대 레벨
        };

      var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다

      // });
      var gym = new Array();
      var xcode = new Array();
      var ycode = new Array();
      $.getJSON('gym.json', function (data) {
        $.each(data, function (entryIndex, entry) {
          gym.push(entry.nm);
          xcode.push(entry.xcode);
          ycode.push(entry.ycode);
        });
        console.log(gym);
        console.log(xcode);
        console.log(ycode);

        var mapContainer = document.getElementById('map'), // 지도를 표시할 div
          mapOption = {
            center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
            level: 3, // 지도의 확대 레벨
          };

        var map = new kakao.maps.Map(mapContainer, mapOption); // 지도를 생성합니다
        // 마커 이미지의 이미지 주소입니다
        var imageSrc =
          'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png';

        // 마커 이미지의 이미지 크기 입니다
        var imageSize = new kakao.maps.Size(24, 35);

        // 마커 이미지를 생성합니다
        var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);

        // 마커를 생성합니다

        for (var i = 0; i < gym.length; i++) {
          console.log(xcode[i])
          console.log(ycode[i])
          var marker = new kakao.maps.Marker({
            map: map, // 마커를 표시할 지도
            // position: new kakao.maps.LatLng(37.5957943, 126.9803132), // 마커를 표시할 위치
            position: new kakao.maps.LatLng(ycode[i], xcode[i]),
            image: markerImage, // 마커 이미지
          });
        }
      });
    </script>
  </body>
</html>
